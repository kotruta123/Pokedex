{"ast":null,"code":"import _toConsumableArray from\"C:/Users/mrale/Desktop/Web2_Assignment2/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/mrale/Desktop/Web2_Assignment2/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/mrale/Desktop/Web2_Assignment2/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\mrale\\\\Desktop\\\\Web2_Assignment2\\\\my-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from\"react\";import Card from\"./Card\";import Pokeinfo from\"./Pokeinfo\";import axios from\"axios\";import{useState}from\"react\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Main=function Main(){// State variables to hold Pokemon data\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),pokeData=_useState2[0],setPokeData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];// const [pageNumber, setPageNumber] = useState(1);\n// State variables to handle pagination\nvar _useState5=useState(\"https://pokeapi.co/api/v2/pokemon/\"),_useState6=_slicedToArray(_useState5,2),url=_useState6[0],setUrl=_useState6[1];// retrieved from https://pokeapi.co/\nvar _useState7=useState(),_useState8=_slicedToArray(_useState7,2),nextUrl=_useState8[0],setNextUrl=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),prevUrl=_useState10[0],setPrevUrl=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),pokeDex=_useState12[0],setPokeDex=_useState12[1];// Function to retrieve Pokemon data from PokeAPI\n// const pokeFun = async () => {\n//     setLoading(true);\n//     const limit = 20;\n//     const offset = (pageNumber - 1) * limit; // Replace pageNumber with the current page number\n//     const res = await axios.get(`${url}?limit=${limit}&offset=${offset}`);\n//     setNextUrl(res.data.next);\n//     setPrevUrl(res.data.previous);\n//     getPokemon(res.data.results);\n//     setLoading(false);\n// };\nvar pokeFun=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.next=3;return axios.get(url);case 3:res=_context.sent;setNextUrl(res.data.next);setPrevUrl(res.data.previous);getPokemon(res.data.results);setLoading(false);case 8:case\"end\":return _context.stop();}}},_callee);}));return function pokeFun(){return _ref.apply(this,arguments);};}();// Function to retrieve individual Pokemon data\nvar getPokemon=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(res){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:res.map(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(item){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(item.url);case 2:result=_context2.sent;setPokeData(function(state){state=[].concat(_toConsumableArray(state),[result.data]);state.sort(function(a,b){return a.id>b.id?1:-1;});return state;});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}());case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function getPokemon(_x){return _ref2.apply(this,arguments);};}();// Call pokeFun() on initial render and whenever the url state changes\nuseEffect(function(){pokeFun();},[url]);// useEffect(() => {\n//     pokeFun();\n// }, [url, pokeFun]);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-content\",children:[/*#__PURE__*/_jsx(Card,{pokemon:pokeData,loading:loading,infoPokemon:function infoPokemon(poke){return setPokeDex(poke);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[prevUrl&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setPokeData([]);setUrl(prevUrl);},children:\"Previous\"}),nextUrl&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){setPokeData([]);setUrl(nextUrl);},children:\"Next\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pokemon Details:\"}),/*#__PURE__*/_jsx(Pokeinfo,{data:pokeDex})]})]})});};export default Main;","map":{"version":3,"sources":["C:/Users/mrale/Desktop/Web2_Assignment2/my-app/src/Components/Main.jsx"],"names":["React","Card","Pokeinfo","axios","useState","useEffect","Main","pokeData","setPokeData","loading","setLoading","url","setUrl","nextUrl","setNextUrl","prevUrl","setPrevUrl","pokeDex","setPokeDex","pokeFun","get","res","data","next","previous","getPokemon","results","map","item","result","state","sort","a","b","id","poke"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Card from \"./Card\";\nimport Pokeinfo from \"./Pokeinfo\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nconst Main = () => {\n    // State variables to hold Pokemon data\n    const [pokeData, setPokeData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    // const [pageNumber, setPageNumber] = useState(1);\n\n    // State variables to handle pagination\n    const [url, setUrl] = useState(\"https://pokeapi.co/api/v2/pokemon/\")  // retrieved from https://pokeapi.co/\n    const [nextUrl, setNextUrl] = useState();\n    const [prevUrl, setPrevUrl] = useState();\n    const [pokeDex, setPokeDex] = useState();\n\n    // Function to retrieve Pokemon data from PokeAPI\n\n    // const pokeFun = async () => {\n    //     setLoading(true);\n    //     const limit = 20;\n    //     const offset = (pageNumber - 1) * limit; // Replace pageNumber with the current page number\n    //     const res = await axios.get(`${url}?limit=${limit}&offset=${offset}`);\n    //     setNextUrl(res.data.next);\n    //     setPrevUrl(res.data.previous);\n    //     getPokemon(res.data.results);\n    //     setLoading(false);\n    // };\n\n\n    const pokeFun = async () => {\n        setLoading(true)\n        const res = await axios.get(url);\n        setNextUrl(res.data.next);\n        setPrevUrl(res.data.previous);\n        getPokemon(res.data.results)\n        setLoading(false)\n    }\n\n    // Function to retrieve individual Pokemon data\n    const getPokemon = async (res) => {\n        res.map(async (item) => {\n            const result = await axios.get(item.url)\n            setPokeData(state => {\n                state = [...state, result.data]\n                state.sort((a, b) => a.id > b.id ? 1 : -1)\n                return state;\n            })\n        })\n    }\n\n    // Call pokeFun() on initial render and whenever the url state changes\n    useEffect(() => {\n        pokeFun();\n    }, [url])\n\n\n    // useEffect(() => {\n    //     pokeFun();\n    // }, [url, pokeFun]);\n\n\n    return (\n        <>\n            <div className=\"container\">\n\n                {/* Display Pokemon cards and handle pagination */}\n                <div className=\"left-content\">\n                    <Card pokemon={pokeData} loading={loading} infoPokemon={poke => setPokeDex(poke)} />\n\n                    <div className=\"btn-group\">\n                        {prevUrl && <button onClick={() => {\n                            setPokeData([])\n                            setUrl(prevUrl)\n                        }}>Previous</button>}\n\n                        {nextUrl && <button onClick={() => {\n                            setPokeData([])\n                            setUrl(nextUrl)\n                        }}>Next</button>}\n\n                    </div>\n                </div>\n\n                {/* Display details for selected Pokemon */}\n                <div className=\"right-content\">\n                    <h1>Pokemon Details:</h1>\n                    <Pokeinfo data={pokeDex} />\n                </div>\n            </div>\n        </>\n    )\n}\nexport default Main;"]},"metadata":{},"sourceType":"module"}